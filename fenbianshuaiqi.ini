[custom]
;全代理模式配置，无直连，防DNS泄露
;适用于subconverter转换
;规则集定义 - 本地规则模式
ruleset=🏠 内网直连,[]DOMAIN-SUFFIX,local
ruleset=🏠 内网直连,[]IP-CIDR,10.0.0.0/8,no-resolve
ruleset=🏠 内网直连,[]IP-CIDR,192.168.0.0/16,no-resolve
ruleset=🏠 内网直连,[]IP-CIDR,127.0.0.0/8,no-resolve
;YOUTUBE规则
ruleset=📹 YOUTUBE,[]DOMAIN-SUFFIX,youtube.com
ruleset=📹 YOUTUBE,[]DOMAIN-SUFFIX,googlevideo.com
ruleset=📹 YOUTUBE,[]DOMAIN-SUFFIX,youtube-nocookie.com
ruleset=📹 YOUTUBE,[]DOMAIN-SUFFIX,youtubeusercontent.com
ruleset=📹 YOUTUBE,[]DOMAIN-KEYWORD,youtube
ruleset=📹 YOUTUBE,[]IP-CIDR,172.110.32.0/21,no-resolve
ruleset=📹 YOUTUBE,[]IP-CIDR,216.73.80.0/20,no-resolve
ruleset=📹 YOUTUBE,[]IP-CIDR,142.250.0.0/16,no-resolve
ruleset=📹 YOUTUBE,[]DOMAIN-SUFFIX,1ioqq7.captcha-open.aliyuncs.com
;Microsoft Teams规则
ruleset=👥 Teams,[]DOMAIN-KEYWORD,teams.microsoft.com
ruleset=👥 Teams,[]DOMAIN-SUFFIX,teams.microsoft.com
;OpenAI规则
ruleset=🤖 openai,[]DOMAIN-KEYWORD,chatgpt
ruleset=🤖 openai,[]IP-CIDR,104.18.0.0/16,no-resolve
ruleset=🤖 openai,[]IP-CIDR,160.79.0.0/16,no-resolve
ruleset=🤖 openai,[]DOMAIN-KEYWORD,cursor
ruleset=🤖 openai,[]IP-CIDR,107.148.47.3/32,no-resolve
ruleset=🤖 openai,[]DOMAIN-KEYWORD,claude
;Splashtop规则
ruleset=🖥️ splashtop,[]DOMAIN-KEYWORD,splashtop
;默认规则 - 所有其他流量
ruleset=🇭🇰 家庭香港,[]FINAL
ruleset=🇭🇰 家庭香港,[]IP-CIDR,5.5.5.5/32,no-resolve
ruleset=🇭🇰 家庭香港,[]IP-CIDR,0.0.0.0/0,no-resolve

;策略组定义
;家庭香港组 - 包含香港、日本、韩国、新加坡、美国节点 + 八个机场分组
custom_proxy_group=🇭🇰 家庭香港`select`[]🐶 狗狗云`[]🌲 树洞云`[]⚡ 专线云`[]🚀 火箭云`[]🌙 白月光`[]🍚 饭饭云`[]🎀 库洛米`[]☁️ M7星云`(?i)(香港|Hong|hk|日本|Japan|jp|韩国|Korea|kr|新加坡|Singapore|sg|美国|United States|us)

;YOUTUBE组 - 包含所有节点
custom_proxy_group=📹 YOUTUBE`select`[]🇭🇰 家庭香港`[]🐶 狗狗云`[]🌲 树洞云`[]⚡ 专线云`[]🚀 火箭云`[]🌙 白月光`[]🍚 饭饭云`[]🎀 库洛米`[]☁️ M7星云`.*

;Microsoft Teams组 - 包含所有节点
custom_proxy_group=👥 Teams`select`[]🇭🇰 家庭香港`[]🐶 狗狗云`[]🌲 树洞云`[]⚡ 专线云`[]🚀 火箭云`[]🌙 白月光`[]🍚 饭饭云`[]🎀 库洛米`[]☁️ M7星云`.*

;OpenAI组 - 包含所有节点
custom_proxy_group=🤖 openai`select`[]🇭🇰 家庭香港`[]🐶 狗狗云`[]🌲 树洞云`[]⚡ 专线云`[]🚀 火箭云`[]🌙 白月光`[]🍚 饭饭云`[]🎀 库洛米`[]☁️ M7星云`.*

;Splashtop组 - 包含所有节点
custom_proxy_group=🖥️ splashtop`select`[]🇭🇰 家庭香港`[]🐶 狗狗云`[]🌲 树洞云`[]⚡ 专线云`[]🚀 火箭云`[]🌙 白月光`[]🍚 饭饭云`[]🎀 库洛米`[]☁️ M7星云`.*

;狗狗云组 - 匹配包含丨或| 的英文国家名节点
custom_proxy_group=🐶 狗狗云`select`(?=.*(丨|\|))(?=.*(Hong Kong|Taiwan|Singapore|Japan|United States|South Korea|Canada|Great Britain|Turkey|India|Netherlands|France|Germany|Vietnam|Malaysia|Thailand|Philippines)).*

;树洞云组 - 匹配包含Basic或Pro的节点
custom_proxy_group=🌲 树洞云`select`(?=.*(Basic|Pro)).*

;专线云组 - 匹配"国家名 + 专线 + |PV"格式
custom_proxy_group=⚡ 专线云`select`(?=.*专线)(?=.*\|PV).*

;火箭云组 - 匹配包含VIP隧道的节点
custom_proxy_group=🚀 火箭云`select`(?=.*VIP隧道).*

;饭饭云组 - emoji + 中文地区名 + | 中转 格式
custom_proxy_group=🍚 饭饭云`select`(?=.*\|)(?=.*中转)(?=.*(香港|台湾|新加坡|韩国|日本|美国)).*

;库洛米组 - emoji + 英文国家名 + 空格 + 数字（无特殊标识）
custom_proxy_group=🎀 库洛米`select`(?=.*🇭🇰 Hong Kong \d+|.*🇸🇬 Singapore \d+|.*🇯🇵 Japan \d+|.*🇺🇸 United States \d+|.*🇨🇳 Taiwan \d+|.*🇩🇪 Germany \d+|.*🇬🇧 United Kingdom \d+|.*🇰🇷 South Korea \d+|.*🇦🇺 Australia \d+|.*🇫🇷 France \d+|.*🇨🇭 Switzerland \d+|.*🇳🇱 Netherlands \d+|.*🇮🇳 India \d+).*

;M7星云组 - emoji + 中文国家名 + 数字，可能带"家宽"或"Premium"或"|x"
custom_proxy_group=☁️ M7星云`select`(?=.*🇭🇰香港|.*🇸🇬新加坡|.*🇨🇳台湾|.*🇯🇵日本|.*🇺🇸美国|.*🇰🇷韩国|.*🇦🇶南极|.*🇦🇷阿根廷|.*🇪🇬埃及|.*🇹🇷土耳其|.*🇺🇦乌克兰|.*🇫🇷法国|.*🇩🇪德国|.*🇲🇾马来西亚|.*🇳🇱荷兰|.*🇳🇬尼日利亚|.*🇹🇭泰国|.*🇷🇺俄罗斯|.*🇮🇩印度尼西亚|.*🇻🇳越南|.*🇮🇳印度|.*🇵🇭菲律宾|.*🇲🇴澳门|.*🇦🇺澳大利亚|.*🇬🇧英国|.*🇧🇷巴西|.*🇦🇪迪拜)(?=.*家宽|.*Premium|.*\|x|.*直连).*

;白月光组 - emoji + 空格 + 中文地区名 + 空格 + 数字（简洁格式）
custom_proxy_group=🌙 白月光`select`(?=.*🇭🇰 香港 \d+|.*🇹🇼 台湾 \d+|.*🇯🇵 日本 \d+|.*🇸🇬 新加坡 \d+|.*🇺🇸 美国 \d+|.*🇨🇦 加拿大|.*🇰🇷 韩国|.*🇻🇳 越南|.*🇰🇭 柬埔寨|.*🇲🇾 马来西亚|.*🇹🇭 泰国|.*🇮🇳 印度|.*🇳🇵 尼泊尔|.*🇵🇭 菲律宾|.*🇮🇩 印度尼西亚|.*🇦🇺 澳大利亚|.*🇳🇿 新西兰|.*🇩🇪 德国|.*🇫🇷 法国).*

;内网直连组
custom_proxy_group=🏠 内网直连`select`[]DIRECT

;启用规则集生成器
enable_rule_generator=true
overwrite_original_rules=true

;DNS设置（防泄露）
clash_rule_base=https://raw.githubusercontent.com/vetus2/shuaishuai21313123/refs/heads/main/GeneralClashConfig.yml

;节点重命名规则 - 为每个机场添加后缀标识（按匹配优先级排序）
;使用简洁的正则，提高OpenClash兼容性
;按照最具体到最宽泛的顺序，避免误匹配

;火箭云 - VIP隧道
rename_node=(.*)VIP隧道(.*)@$1VIP隧道$2 [火箭云]

;专线云 - 专线|PV
rename_node=(.*)专线(.*)PV(.*)@$1专线$2PV$3 [专线云]

;树洞云 - Basic或Pro
rename_node=(.*)(Basic|Pro)(.*)@$1$2$3 [树洞云]

;饭饭云 - | 中转 |
rename_node=(.*)中转(.*)流媒体(.*)@$1中转$2流媒体$3 [饭饭云]
rename_node=(.*)中转(.*)原生(.*)@$1中转$2原生$3 [饭饭云]
rename_node=(.*)中转(.*)netflix(.*)@$1中转$2netflix$3 [饭饭云]
rename_node=(.*)中转(.*)动画疯(.*)@$1中转$2动画疯$3 [饭饭云]
rename_node=(.*)中转(.*)HBO(.*)@$1中转$2HBO$3 [饭饭云]

;M7星云 - emoji直接连中文（无空格），可能带家宽/Premium/|x
rename_node=🇭🇰香港(.*)@🇭🇰香港$1 [M7星云]
rename_node=🇸🇬新加坡(.*)@🇸🇬新加坡$1 [M7星云]
rename_node=🇨🇳台湾(.*)@🇨🇳台湾$1 [M7星云]
rename_node=🇯🇵日本(.*)@🇯🇵日本$1 [M7星云]
rename_node=🇺🇸美国(.*)@🇺🇸美国$1 [M7星云]
rename_node=🇰🇷韩国(.*)@🇰🇷韩国$1 [M7星云]
rename_node=🇦🇶南极(.*)@🇦🇶南极$1 [M7星云]
rename_node=🇦🇷阿根廷(.*)@🇦🇷阿根廷$1 [M7星云]
rename_node=🇪🇬埃及(.*)@🇪🇬埃及$1 [M7星云]
rename_node=🇹🇷土耳其(.*)@🇹🇷土耳其$1 [M7星云]
rename_node=🇺🇦乌克兰(.*)@🇺🇦乌克兰$1 [M7星云]
rename_node=🇫🇷法国(.*)@🇫🇷法国$1 [M7星云]
rename_node=🇩🇪德国(.*)@🇩🇪德国$1 [M7星云]
rename_node=🇲🇾马来西亚(.*)@🇲🇾马来西亚$1 [M7星云]
rename_node=🇳🇱荷兰(.*)@🇳🇱荷兰$1 [M7星云]
rename_node=🇳🇬尼日利亚(.*)@🇳🇬尼日利亚$1 [M7星云]
rename_node=🇹🇭泰国(.*)@🇹🇭泰国$1 [M7星云]
rename_node=🇷🇺俄罗斯(.*)@🇷🇺俄罗斯$1 [M7星云]
rename_node=🇮🇩印度尼西亚(.*)@🇮🇩印度尼西亚$1 [M7星云]
rename_node=🇻🇳越南(.*)@🇻🇳越南$1 [M7星云]
rename_node=🇮🇳印度(.*)@🇮🇳印度$1 [M7星云]
rename_node=🇵🇭菲律宾(.*)@🇵🇭菲律宾$1 [M7星云]
rename_node=🇲🇴澳门(.*)@🇲🇴澳门$1 [M7星云]
rename_node=🇦🇺澳大利亚(.*)@🇦🇺澳大利亚$1 [M7星云]
rename_node=🇬🇧英国(.*)@🇬🇧英国$1 [M7星云]
rename_node=🇧🇷巴西(.*)@🇧🇷巴西$1 [M7星云]
rename_node=🇦🇪迪拜(.*)@🇦🇪迪拜$1 [M7星云]
rename_node=美国直连(.*)@美国直连$1 [M7星云]

;狗狗云 - emoji + 空格 + 英文 + 丨或|
rename_node=🇭🇰 Hong Kong丨(.*)@🇭🇰 Hong Kong丨$1 [狗狗云]
rename_node=🇨🇳 Taiwan丨(.*)@🇨🇳 Taiwan丨$1 [狗狗云]
rename_node=🇸🇬 Singapore丨(.*)@🇸🇬 Singapore丨$1 [狗狗云]
rename_node=🇯🇵 Japan丨(.*)@🇯🇵 Japan丨$1 [狗狗云]
rename_node=🇺🇸 United States丨(.*)@🇺🇸 United States丨$1 [狗狗云]
rename_node=🇰🇷 South Korea丨(.*)@🇰🇷 South Korea丨$1 [狗狗云]
rename_node=🇨🇦 Canada丨(.*)@🇨🇦 Canada丨$1 [狗狗云]
rename_node=🇬🇧 Great Britain丨(.*)@🇬🇧 Great Britain丨$1 [狗狗云]
rename_node=🇹🇷 Turkey丨(.*)@🇹🇷 Turkey丨$1 [狗狗云]
rename_node=🇮🇳 India丨(.*)@🇮🇳 India丨$1 [狗狗云]
rename_node=🇳🇱 Netherlands丨(.*)@🇳🇱 Netherlands丨$1 [狗狗云]
rename_node=🇫🇷 France \| (.*)@🇫🇷 France | $1 [狗狗云]
rename_node=🇩🇪 Germany \| (.*)@🇩🇪 Germany | $1 [狗狗云]
rename_node=🇻🇳 Vietnam \| (.*)@🇻🇳 Vietnam | $1 [狗狗云]
rename_node=🇲🇾 Malaysia丨(.*)@🇲🇾 Malaysia丨$1 [狗狗云]
rename_node=🇹🇭 Thailand丨(.*)@🇹🇭 Thailand丨$1 [狗狗云]
rename_node=🇵🇭 Philippines丨(.*)@🇵🇭 Philippines丨$1 [狗狗云]

;库洛米 - emoji + 空格 + 英文 + 空格 + 数字（纯净格式，无丨|）
rename_node=^🇭🇰 Hong Kong \d+$@\0 [库洛米]
rename_node=^🇸🇬 Singapore \d+$@\0 [库洛米]
rename_node=^🇯🇵 Japan \d+$@\0 [库洛米]
rename_node=^🇺🇸 United States \d+$@\0 [库洛米]
rename_node=^🇨🇳 Taiwan \d+$@\0 [库洛米]
rename_node=^🇩🇪 Germany \d+$@\0 [库洛米]
rename_node=^🇬🇧 United Kingdom \d+$@\0 [库洛米]
rename_node=^🇰🇷 South Korea \d+$@\0 [库洛米]
rename_node=^🇦🇺 Australia \d+$@\0 [库洛米]
rename_node=^🇫🇷 France \d+$@\0 [库洛米]
rename_node=^🇨🇭 Switzerland \d+$@\0 [库洛米]
rename_node=^🇳🇱 Netherlands \d+$@\0 [库洛米]
rename_node=^🇮🇳 India \d+$@\0 [库洛米]

;白月光 - emoji + 空格 + 中文 + 空格 + 数字或单独中文
rename_node=^🇭🇰 香港 \d+$@\0 [白月光]
rename_node=^🇹🇼 台湾 \d+$@\0 [白月光]
rename_node=^🇯🇵 日本 \d+$@\0 [白月光]
rename_node=^🇸🇬 新加坡 \d+$@\0 [白月光]
rename_node=^🇺🇸 美国 \d+$@\0 [白月光]
rename_node=^🇨🇦 加拿大$@\0 [白月光]
rename_node=^🇰🇷 韩国$@\0 [白月光]
rename_node=^🇻🇳 越南$@\0 [白月光]
rename_node=^🇰🇭 柬埔寨$@\0 [白月光]
rename_node=^🇲🇾 马来西亚$@\0 [白月光]
rename_node=^🇹🇭 泰国$@\0 [白月光]
rename_node=^🇮🇳 印度$@\0 [白月光]
rename_node=^🇳🇵 尼泊尔$@\0 [白月光]
rename_node=^🇵🇭 菲律宾$@\0 [白月光]
rename_node=^🇮🇩 印度尼西亚$@\0 [白月光]
rename_node=^🇦🇺 澳大利亚$@\0 [白月光]
rename_node=^🇳🇿 新西兰$@\0 [白月光]
rename_node=^🇩🇪 德国$@\0 [白月光]
rename_node=^🇫🇷 法国$@\0 [白月光]
